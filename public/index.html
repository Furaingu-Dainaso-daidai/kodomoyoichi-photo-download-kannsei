<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>子ども夜市用写真ダウンロードサイト(簡易版)</title>
    <style>
        body, input, button, a {
            font-family: Arial, sans-serif;
            background-color: rgb(255, 170, 43);
            text-align: center;
            margin-top: 1%;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10"><circle cx="5" cy="5" r="5" fill="gray"/></svg>') 5 5, auto;
        }
        h1.title {
            font-size: 5vmax;
            color: #000000;
            animation: bounce 0.987s infinite;
        }
        a, a:visited {
            color: #024ad0;
            font-size: 2vmax;
            font-family: Arial, sans-serif;
            font-weight: normal;
        }
        h2.setumei {
            font-size: 2.3vmax;
            color: #000000;
            margin-top: -0.5em;
        }
        h2.ookinasetumei {
            font-size: 3.2vmax;
            color: #000000;
            margin-top: -0.5em;
        }
        h4.tyuui {
            color: #000000;
            margin-top: 1em;
            font-family: Georgia, serif;
            font-size: 2vmax;
            font-weight: bold;
        }
        h4.tyuui1 {
            color: #000000;
            margin-top: -0.2em;
            font-family: Arial, sans-serif;
            font-size: 1.5vmax;
            font-weight: normal;
        }
        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-15px);
            }
        }
        input {
        margin: 5px;
        font-size: 2.5vmax;
        width: 70vw;
        padding: 2vmax;
        cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10"><circle cx="5" cy="5" r="5" fill="blue"/></svg>') 5 5, auto;
        background-color: #ffffff;  /* 背景色を白に変更 */
        border: 3px solid #000000;
        }

        form {
            margin-bottom: 20px;
        }
        #thanks-message {
            background-color: #008000;
            color: rgb(255, 255, 255);
            padding: 12.5px;
            font-size: 5vmin;
        }

        /* 新しいボタンのスタイル */
        .c-btn.practice02 {
            background: #ff0000;
            color: #fff;
            border: none;
            border-radius: 100px;
            font-size: 4.5vmin;
            padding: 1em 2em;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10"><circle cx="5" cy="5" r="5" fill="yellow"/></svg>') 5 5, auto;
            transition: .3s cubic-bezier(0.5, 1, 0.89, 1);
            font-family: Arial, sans-serif;
            font-weight: bold;
            margin-top: 0.2em;
        }
        .c-btn.practice02:hover {
            background: #fff;
            color: #ff0000;
            transform: scale(1.1);
            font-family: Arial, sans-serif;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div id="thanks-message">ご来店ありがとうございました！<br>大変お待たせ致しました。m(__)m</div>
    <h1 class="title">写真をダウンロード！！</h1>
    <h2 class="ookinasetumei">「写真番号」を入力すると写真がダウンロードできます。</h2>
    <h2 class="setumei">下のフィールドには、写真番号(例:１)を入力してください。</h2>
    <h2 class="setumei">写真番号を打ち間違えた場合は、パスワードで保護されます。</h2>
    <h2 class="setumei">パソコンでしたほうが楽しいよ！(マウスが…)</h2>
    <h2 class="setumei">iPhone、Macで開いた場合、エラーが起こる事例が出ています。<br>その為、android、Windowsなどで開くことをお勧めします。</h2>
    
    <form id="photo-form">
        <input type="number" id="photo-number" placeholder="「写真番号」ここに入力" required>
        <button type="submit" class="c-btn practice02">ダウンロードサイトへGO！</button>
    </form>
    <div id="photo-container"></div>

    <script>
        document.getElementById('photo-form').addEventListener('submit', function(event) {
            event.preventDefault();  // フォームのデフォルトの送信動作をキャンセルする

            const photoNumber = document.getElementById('photo-number').value;  // 入力された写真番号を取得

            // Fetch APIを使用して、サーバーから写真のURLを取得
            fetch(`https://httpskodomoyoichi-shashin-download.daigo7camera.workers.dev/?number=${photoNumber}`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');  // レスポンスがOKでない場合、エラーをスロー
                    }
                    return response.json();  // レスポンスをJSONとして解析
                })
                .then(data => {
                    if (data.url) {
                        // 取得したURLを現在のタブで開く
                        window.location.href = data.url;
                    } else {
                        alert('リンクが見つかりませんでした。もう一度入力してください。');  // URLが見つからない場合のメッセージ
                    }
                })
                .catch(error => {
                    alert('エラーが発生しました。再読み込み等をしてください。解決されない場合は、「問い合わせ等」から問い合わせてください。');
                    console.error('There has been a problem with your fetch operation:', error);  // コンソールにエラーメッセージを表示
                });
        });
    </script>
    <h2 class="setumei">このサービスのすべては、《いつか》取り消しされます。</h2>
    <h2 class="setumei">早めにダウンロードをお願いします。</h2>
    <h4 class="tyuui">詳細の日付は、後日表記します。</h4>
    <a href="mailto:kodomoyoichi-shashindaunrodo@onlyapp.net?subject=【重要】問い合わせ【このメールは、重要です。】&amp;body=写真番号：%0d%0aパスワード：%0d%0a詳細(ここを、こうしてほしいなど)：%0d%0a%0d%0aこのメールは、重要なときのみ使用してください。%0d%0aメールを送信すると、メールアドレスが共有されます。ご注意ください。このメールアドレスは、使い捨てです。個人メールではありません。個人情報は、最小限の量にすることをお勧め致します。「写真番号」と「パスワード」、「詳細」を入力してください。「写真番号」と「パスワード」が間違っている場合は、すぐに削除します。" target="_blank" rel="noopener noreferrer">お問い合わせ等</a>
    <h4 class="tyuui1">※困ったときは、バンバン聞いてください。</h4>
    <h4 class="tyuui1">※このサイトと同じ時に、取り消しされます。</h4>
    <h4 class="tyuui">このサイトのURLを、SNS等で拡散しないでください。</h4>
    <footer>
        <p>© 2024 shashinwotorumise All Rights Reserved.</p>
    </footer>
</body>
</html>
